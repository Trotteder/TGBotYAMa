# Telegram Mafia Bot üé≠

–ë–æ—Ç –¥–ª—è –∏–≥—Ä—ã –≤ –ú–∞—Ñ–∏—é –≤ Telegram –Ω–∞ PHP.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéÆ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–≥—Ä–∞ –≤ –º–∞—Ñ–∏—é –¥–ª—è –≥—Ä—É–ø–ø –æ—Ç 4 –¥–æ 20 –∏–≥—Ä–æ–∫–æ–≤
- üé≠ –®–µ—Å—Ç—å —Ä–æ–ª–µ–π: –ú–∞—Ñ–∏—è, –ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏, –ö–æ–º–∏—Å—Å–∞—Ä, –î–æ–∫—Ç–æ—Ä, –ë–æ–º–∂, –õ—é–±–æ–≤–Ω–∏—Ü–∞
- üåô –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–º –¥–µ–Ω—å/–Ω–æ—á—å
- ‚è∞ –¢–∞–π–º–µ—Ä—ã –Ω–∞ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è (3 –º–∏–Ω –Ω–æ—á—å, 4 –º–∏–Ω –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)
- üó≥Ô∏è –°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º
- üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π
- ‚ùÑÔ∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏ –∏–≥—Ä–æ–∫–æ–≤
- üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–≥—Ä—ã
- üõë –ö–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ Replit

1. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Replit Secrets –∫–∞–∫ `TELEGRAM_BOT_TOKEN`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Shell:
```bash
php setup_webhook.php
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/newgame` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
- `/join` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ
- `/players` - –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤
- `/startgame` - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É (–º–∏–Ω–∏–º—É–º 4 –∏–≥—Ä–æ–∫–∞)
- `/endgame` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É –¥–æ—Å—Ä–æ—á–Ω–æ
- `/status` - –°—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã
- `/help` - –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

## –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

### –†–æ–ª–∏

- üî™ **–ú–∞—Ñ–∏—è** - –£–±–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–æ—á—å—é. –ú–∞—Ñ–∏—è –≥–æ–ª–æ—Å—É–µ—Ç –∑–∞ –æ–±—â—É—é –∂–µ—Ä—Ç–≤—É (–ø–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É).
- üë§ **–ú–∏—Ä–Ω—ã–π –∂–∏—Ç–µ–ª—å** - –ì–æ–ª–æ—Å—É–µ—Ç –¥–Ω–µ–º –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º—ã—Ö.
- üîç **–ö–æ–º–∏—Å—Å–∞—Ä** - –ù–æ—á—å—é –º–æ–∂–µ—Ç –ü–†–û–í–ï–†–ò–¢–¨ –∏–≥—Ä–æ–∫–∞ (–º–∞—Ñ–∏—è –∏–ª–∏ –Ω–µ—Ç) –ò–õ–ò –£–ë–ò–¢–¨ –µ–≥–æ.
- üíä **–î–æ–∫—Ç–æ—Ä** - –ù–æ—á—å—é –∑–∞—â–∏—â–∞–µ—Ç –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –æ—Ç —É–±–∏–π—Å—Ç–≤–∞.
- üèö **–ë–æ–º–∂** (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ 7+ –∏–≥—Ä–æ–∫–∞—Ö) - –ù–æ—á—å—é –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –º–∞—Ñ–∏–∏.
- üíã **–õ—é–±–æ–≤–Ω–∏—Ü–∞** (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ 6+ –∏–≥—Ä–æ–∫–∞—Ö) - –ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ 2 —Ö–æ–¥–∞ (–ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è).

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã**: –û–¥–∏–Ω –∏–≥—Ä–æ–∫ —Å–æ–∑–¥–∞–µ—Ç –∏–≥—Ä—É –∫–æ–º–∞–Ω–¥–æ–π `/newgame`
2. **–ù–∞–±–æ—Ä –∏–≥—Ä–æ–∫–æ–≤**: –î—Ä—É–≥–∏–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `/join` (–Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 4)
3. **–°—Ç–∞—Ä—Ç**: –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É –∫–æ–º–∞–Ω–¥–æ–π `/startgame`
4. **–†–æ–ª–∏**: –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. **–ù–æ—á—å** (3 –º–∏–Ω—É—Ç—ã): 
   - –ú–∞—Ñ–∏—è –≥–æ–ª–æ—Å—É–µ—Ç –∑–∞ –∂–µ—Ä—Ç–≤—É
   - –î–æ–∫—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–≥–æ –∑–∞—â–∏—Ç–∏—Ç—å
   - –ö–æ–º–∏—Å—Å–∞—Ä –≤—ã–±–∏—Ä–∞–µ—Ç: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–ª–∏ —É–±–∏—Ç—å
   - –ë–æ–º–∂ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–≥—Ä–æ–∫–∞
   - –õ—é–±–æ–≤–Ω–∏—Ü–∞ –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–∞
6. **–î–µ–Ω—å** (4 –º–∏–Ω—É—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ): –û–±—ä—è–≤–ª—è—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–æ—á–∏, –Ω–µ–∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ –≥–æ–ª–æ—Å—É—é—Ç –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
7. **–ü–æ–±–µ–¥–∞**: –ú–∏—Ä–Ω—ã–µ –ø–æ–±–µ–∂–¥–∞—é—Ç, –µ—Å–ª–∏ —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ –≤—Å—é –º–∞—Ñ–∏—é. –ú–∞—Ñ–∏—è –ø–æ–±–µ–∂–¥–∞–µ—Ç, –µ—Å–ª–∏ –∏—Ö —Å—Ç–æ–ª—å–∫–æ –∂–µ –∏–ª–∏ –±–æ–ª—å—à–µ, —á–µ–º –º–∏—Ä–Ω—ã—Ö.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚è∞ **–¢–∞–π–º–µ—Ä—ã**: 3 –º–∏–Ω—É—Ç—ã –Ω–∞ –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, 4 –º–∏–Ω—É—Ç—ã –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (—Ñ–∞–∑–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ)
- ‚ùÑÔ∏è **–ó–∞–º–æ—Ä–æ–∑–∫–∞**: –ó–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç 2 —Ö–æ–¥–∞ (–Ω–µ –º–æ–≥—É—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è)
- üó≥Ô∏è **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ**: –î–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤ (50%+1) —Å—Ä–µ–¥–∏ –Ω–µ–∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
- üõë **–î–æ—Å—Ä–æ—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∞ `/endgame` –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∏–≥—Ä—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–æ–ª–∏

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π

- –ú–∞—Ñ–∏—è: 1/3 –æ—Ç –æ–±—â–µ–≥–æ —á–∏—Å–ª–∞ –∏–≥—Ä–æ–∫–æ–≤
- –ö–æ–º–∏—Å—Å–∞—Ä: 1
- –î–æ–∫—Ç–æ—Ä: 1
- –õ—é–±–æ–≤–Ω–∏—Ü–∞: 1 (–ø—Ä–∏ 6+ –∏–≥—Ä–æ–∫–∞—Ö)
- –ë–æ–º–∂: 1 (–ø—Ä–∏ 7+ –∏–≥—Ä–æ–∫–∞—Ö)
- –ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏: –æ—Å—Ç–∞–ª—å–Ω—ã–µ

–ü—Ä–∏–º–µ—Ä—ã:

**4 –∏–≥—Ä–æ–∫–∞**:
- 1 –ú–∞—Ñ–∏—è, 1 –ö–æ–º–∏—Å—Å–∞—Ä, 1 –î–æ–∫—Ç–æ—Ä, 1 –ú–∏—Ä–Ω—ã–π –∂–∏—Ç–µ–ª—å

**6 –∏–≥—Ä–æ–∫–æ–≤**:
- 2 –ú–∞—Ñ–∏–∏, 1 –ö–æ–º–∏—Å—Å–∞—Ä, 1 –î–æ–∫—Ç–æ—Ä, 1 –õ—é–±–æ–≤–Ω–∏—Ü–∞, 1 –ú–∏—Ä–Ω—ã–π –∂–∏—Ç–µ–ª—å

**8 –∏–≥—Ä–æ–∫–æ–≤**:
- 2 –ú–∞—Ñ–∏–∏, 1 –ö–æ–º–∏—Å—Å–∞—Ä, 1 –î–æ–∫—Ç–æ—Ä, 1 –õ—é–±–æ–≤–Ω–∏—Ü–∞, 1 –ë–æ–º–∂, 2 –ú–∏—Ä–Ω—ã—Ö –∂–∏—Ç–µ–ª—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.2+
- cURL extension
- Telegram Bot Token

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ bot.php           # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ Game.php          # –ö–ª–∞—Å—Å –∏–≥—Ä–æ–≤–æ–π —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ TelegramAPI.php   # Telegram API wrapper
‚îú‚îÄ‚îÄ webhook.php       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ webhook
‚îú‚îÄ‚îÄ index.php         # Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ setup_webhook.php # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook
‚îú‚îÄ‚îÄ sessions/         # –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π
‚îî‚îÄ‚îÄ README.md         # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç file-based —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π. –ö–∞–∂–¥–∞—è –∏–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `sessions/`.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
